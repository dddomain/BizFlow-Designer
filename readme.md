# **BizFlow Designer ユーザーマニュアル**

**(Activity Diagram Builder \- Offline Edition)**

*（ここにアプリを起動した直後の全体画面のスクリーンショットを挿入してください）*

## **1\. 概要**

**BizFlow Designer** は、ブラウザひとつで動作する、軽量かつ高機能なアクティビティ図（業務フロー図）作成ツールです。

専用ソフトのインストールやユーザー登録、インターネット接続は一切不要です。HTMLファイルをブラウザで開くだけで、直感的な操作で美しい図を作成できます。エンジニアや業務担当者が、思考を止めることなくプロセスを可視化できるよう設計されています。

## **2\. 主な特徴**

* 🚀 **完全オフライン動作**: 外部サーバーへの通信を行わないため、機密性の高い業務フローも安心して作成できます。  
* 🖱️ **直感的な操作**: ドラッグ＆ドロップでの配置、右クリックでのクイック追加など、迷わない操作性を実現。  
* 🎨 **美しい描画**: 接続線は自動で直角に曲がる「マンハッタン・ルーティング」を採用。グリッド吸着により誰でもきれいに配置できます。  
* 📄 **多彩な出力**: 編集用のJSON保存に加え、資料作成に便利なPNG/JPEG画像、PDF形式での出力に対応。  
* 📱 **タッチ操作対応**: タブレットやタッチパネルPCでのピンチズーム、パン操作もサポートしています。

## **3\. 起動方法**

1. 配布された `bizflow_designer_v6_1.html` ファイルをデスクトップなど任意の場所に保存します。  
2. ファイルをダブルクリックします。  
3. Google Chrome, Microsoft Edge, Safari などのモダンブラウザでアプリが起動します。

## **4\. 基本的な使い方**

### **4.1 図形の配置**

画面左側の「パレット（ステンシル）」から、使いたい図形を中央のキャンバスへドラッグ＆ドロップします。

* **ノード**: 開始/終了、処理、判断、データストア、テキスト  
* **コンテナ**: 担当領域（スイムレーン）

### **4.2 図形の接続（ラインを引く）**

1. 図形の上にマウスカーソルを合わせると、上下左右に小さな「●（ポート）」が表示されます。  
2. ポートをクリックし、そのまま接続したい別の図形のポートまでドラッグします。  
3. 自動的に直角の線（コネクタ）が引かれます。

### **4.3 テキストの編集**

* **図形・ライン**: ダブルクリックすると、ラベルテキストを編集できます。  
* **プロパティパネル**: 画面右側のパネルでもテキストの編集が可能です。ここではフォントサイズや色の変更も行えます。

## **5\. 便利な機能**

### **✨ クイック追加（右クリック）**

図形のポート（接続点）を **右クリック** すると、メニューが表示されます。 次に繋げたい図形（処理、判断など）を選択すると、自動的にラインで接続された状態で新しい図形が配置されます。

### **📚 レイヤーの並べ替え**

画面右上のタブを「レイヤー」に切り替えると、配置されている図形の一覧が表示されます。 リストの項目をドラッグ＆ドロップすることで、図形の重なり順（前面・背面）を変更できます。

### **🔍 ズームとスクロール**

* **拡大・縮小**: `Ctrl`キーを押しながらマウスホイールを回転、またはツールバーの「＋」「－」ボタン。タッチパッドならピンチ操作。  
* **スクロール**: マウスホイール（上下）、`Shift`\+ホイール（左右）、または `Space`キーを押しながらキャンバスをドラッグ。

## **6\. 保存と出力**

ツールバー右側の **「保存 (Export) ▼」** ボタンをクリックし、形式を選択します。

1. **JSONファイルとして保存**:  
   * 作成した図のデータを `.json` ファイルとして保存します。  
   * 後で「JSONから読込」ボタンを使って再編集できます。  
2. **PNG画像 (背景透過)**:  
   * 背景が透明な画像として保存します。PowerPointやチャットツールへの貼り付けに最適です。  
3. **JPEG画像 (背景あり)**:  
   * 背景色とグリッドを含んだ画像として保存します。  
4. **PDF印刷 / 保存**:  
   * ブラウザの印刷機能を使用してPDF化します。印刷ダイアログで「PDFに保存」を選択してください。

## **7\. JSONデータの活用とAI連携**

BizFlow Designerでは、作業データをJSON形式でインポート/エクスポートできます。これにより、データベースがなくてもローカルでバージョン管理を行ったり、生成AIを活用して業務フロー図を自動生成したりすることが可能です。

### **7.1 JSONデータのメリット**

* **完全なバックアップ**: 図形の位置、色、接続関係などを完全に保存・復元できます。  
* **AIによる自動生成**: 業務内容をAIに伝えてJSONコードを生成させることで、作図の手間を大幅に削減できます。

### **7.2 JSONフォーマット仕様**

AIに指示を出す際は、以下のJSON形式に従うように指定してください。

```
{  
  "nodes": \[  
    {  
      "id": "一意のID (例: node-1)",  
      "type": "図形の種類 (rect, circle, diamond, db, swimlane, text)",  
      "x": X座標 (数値),  
      "y": Y座標 (数値),  
      "w": 幅 (数値),  
      "h": 高さ (数値),  
      "label": "表示ラベル (改行は \\\\n)",  
      "bgColor": "背景色カラーコード (例: \#ffffff)"  
    }  
  \],  
  "edges": \[  
    {  
      "id": "一意のID (例: edge-1)",  
      "source": "接続元のノードID",  
      "sourcePort": "接続元のポート位置 (top, bottom, left, right)",  
      "target": "接続先のノードID",  
      "targetPort": "接続先のポート位置 (top, bottom, left, right)",  
      "label": "線のラベル (任意)"  
    }  
  \]  
}
```

### **7.3 AIへのプロンプト例**

ChatGPTやGeminiなどの生成AIに対して、以下のように指示を出すことで、BizFlow Designerで読み込めるファイルを生成させることができます。

**プロンプト例:** 「経費精算の業務フローのアクティビティ図を作成したいです。 申請者が申請し、上長が承認し、経理が処理するという流れです。条件分岐も含めてください。 出力は、以下のフォーマット仕様に基づいたJSONデータのみを提供してください。 \[ここに上記のJSONフォーマット仕様を貼り付ける\]」

## **8\. ショートカットキー一覧**

作業効率を上げるため、以下のショートカットキーが利用可能です。

| キー操作 | 動作 |
| ----- | ----- |
| `Delete` / `Backspace` | 選択中の要素を削除 |
| `Ctrl` \+ `C` | 選択した要素をコピー |
| `Ctrl` \+ `V` | 貼り付け |
| `Ctrl` \+ `Z` | 元に戻す (Undo) |
| `Ctrl` \+ `Y` | やり直し (Redo) |
| `Ctrl` \+ `A` | すべて選択 |
| `Space` \+ ドラッグ | キャンバスの移動（パン） |
| `Wheel` | 上下スクロール |
| `Shift` \+ `Wheel` | 左右スクロール |
| `Ctrl` \+ `Wheel` | ズームイン・アウト |

## **9\. 動作環境**

以下の最新版ブラウザでの動作を確認しています。

* Google Chrome (推奨)  
* Microsoft Edge  
* Mozilla Firefox  
* Safari

※ JavaScript (ES6+) が有効になっている必要があります。

**BizFlow Designer Team**

